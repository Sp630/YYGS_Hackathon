<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>Your Website</title>

    <!-- Mapbox CSS and JavaScript -->
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.js"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.js"></script>
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.css" type="text/css">
    
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: #333;
            color: white;
            padding: 10px;
            text-align: center;
            position: relative;
        }

        header img {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 50px; /* Adjust size as needed */
            height: auto;
        }

        .content {
            padding: 20px;
        }

        #map {
            width: 100%;
            height: 400px; /* Adjust the height as needed */
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <header>
        <!-- Logo in the top-left corner -->
        <img src="yygs_pr_logo.jpg" alt="Logo">
        <h1>YYGO!</h1>
    </header>

    <div class="content">
        <p>This is a section of my website where a map is displayed.</p>
        
        <!-- Map container -->
        <div id="map"></div>
    </div>

    <script>
        mapboxgl.accessToken = 'pk.eyJ1Ijoic3A2MzAiLCJhIjoiY21ka285MXlwMHpoNDJucTNwdmxibDNieSJ9.MFgODrs5guH5Vk12nDseJQ';
        
        const map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v12',
            center: [-111, 32], // Default position
            zoom: 1
        });

// Add this section - RIGHT AFTER map initialization but BEFORE geolocation code
map.on('load', function() {
    // Define your boundary coordinates (example: Tucson area)
    const boundaryCoordinates = [
    [-72.9300, 41.3100], // Southwest corner (College & Grove)
    [-72.9250, 41.3100], // Southeast corner (College & Temple)
    [-72.9250, 41.3165], // Northeast corner (High & Sachem)
    [-72.9300, 41.3165], // Northwest corner (Prospect & Sachem)
    [-72.9300, 41.3100]
    ];

    // Add the boundary as a filled polygon
    map.addLayer({
        id: 'boundary-fill',
        type: 'fill',
        source: {
            type: 'geojson',
            data: {
                type: 'Feature',
                geometry: {
                    type: 'Polygon',
                    coordinates: [boundaryCoordinates]
                }
            }
        },
        paint: {
            'fill-color': '#4E3FC8', // Purple color
            'fill-opacity': 0.2,     // 20% opacity
            'fill-outline-color': '#4E3FC8'
        }
    });

    // Add a more visible outline
    map.addLayer({
        id: 'boundary-line',
        type: 'line',
        source: {
            type: 'geojson',
            data: {
                type: 'Feature',
                geometry: {
                    type: 'LineString',
                    coordinates: boundaryCoordinates
                }
            }
        },
        paint: {
            'line-color': '#4E3FC8',
            'line-width': 3,
            'line-dasharray': [2, 2] // Dashed line
        }
    });
});

// The rest of your existing code (geolocation, controls, etc.) goes below...

        // Use the geolocation API to get the user's location
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
                const userLatitude = position.coords.latitude;
                const userLongitude = position.coords.longitude;

                // Set the map center to the user's location and zoom in
                map.setCenter([userLongitude, userLatitude]);
                map.setZoom(15); // Adjust zoom level (15 is close-up)
                
                // Optionally, add a marker to indicate the user's location
                new mapboxgl.Marker()
                    .setLngLat([userLongitude, userLatitude])
                    .addTo(map);
            }, function(error) {
                alert('Error getting your location: ' + error.message);
            });
        } else {
            alert("Geolocation is not supported by this browser.");
        }

        // Add the Mapbox Directions control
        map.addControl(
            new MapboxDirections({
                accessToken: mapboxgl.accessToken
            }), 'top-left'
        );

        // Add other map controls
        map.addControl(new mapboxgl.FullscreenControl(), 'top-right');
        map.addControl(new mapboxgl.NavigationControl(), 'top-right');
    </script>
</body>
</html>
